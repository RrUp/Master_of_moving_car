{"version":3,"sources":["../../../../assets/Scripts/assets/Scripts/subStarTemplateJS.js"],"names":["cc","Class","extends","Component","properties","stageId","startNum","stageBtn","Button","stageIdLab","Label","stars","Sprite","start","init","data","urlPath","self","string","loader","loadRes","SpriteFrame","err","spriteFrame","log","length","i","res","normalSprite","pressedSprite","hoverSprite","enabled"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS,CADD;AAERC,kBAAU,CAFF;AAGRC,kBAAUP,GAAGQ,MAHL;AAIRC,oBAAYT,GAAGU,KAJP;AAKRC,eAAO,CAACX,GAAGY,MAAJ;AALC,KAHP;;AAWL;;AAEA;;AAEAC,SAfK,mBAeG,CAEP,CAjBI;AAkBLC,QAlBK,gBAkBAC,IAlBA,EAkBM;AACP,YAAIV,UAAUU,KAAKV,OAAL,GAAe,CAA7B,CAA+B;AAC/B,YAAIW,OAAJ;AACA,YAAIC,OAAO,IAAX;AACA,YAAIX,WAAWS,KAAKT,QAApB;AACA;AACA,YAAIS,KAAKT,QAAL,IAAiB,CAArB,EAAwB;AACpB,gBAAID,UAAU,EAAd,EAAkB;AACd,qBAAKI,UAAL,CAAgBS,MAAhB,GAAyB,MAAMb,OAA/B;AACH,aAFD,MAEO;AACH,qBAAKI,UAAL,CAAgBS,MAAhB,GAAyBb,OAAzB;AACH,aALmB,CAKnB;AACD,gBAAIW,UAAW,MAAf;AACAhB,eAAGmB,MAAH,CAAUC,OAAV,CAAkBJ,OAAlB,EAA2BhB,GAAGqB,WAA9B,EAA2C,UAAUC,GAAV,EAAeC,WAAf,EAA4B;AACnE,oBAAID,GAAJ,EAAStB,GAAGwB,GAAH,CAAO,WAAWF,IAAIG,MAAf,GAAwB,QAA/B,EAAT,KACK;AACD,yBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIpB,QAApB,EAA8BoB,GAA9B,EAAmC;AAC/BT,6BAAKN,KAAL,CAAWe,CAAX,EAAcH,WAAd,GAA4BA,WAA5B;AACH,qBAHA,CAGA;AACJ;AACJ,aAPD;AAQA,gBAAIR,KAAKT,QAAL,GAAgB,CAApB,EAAuB;;AAEnBU,0BAAU,iBAAV;AACH,aAHD,MAGO;AACHA,0BAAU,kBAAV;AACH;AACDhB,eAAGmB,MAAH,CAAUC,OAAV,CAAkBJ,OAAlB,EAA2BhB,GAAGqB,WAA9B,EAA2C,UAAUC,GAAV,EAAeK,GAAf,EAAoB;AAC3D,oBAAIL,GAAJ,EAAStB,GAAGwB,GAAH,CAAO,mBAAmBF,IAAIG,MAAvB,GAAgC,QAAvC,EAAT,KACK;AACDR,yBAAKV,QAAL,CAAcqB,YAAd,GAA6BD,GAA7B;AACAV,yBAAKV,QAAL,CAAcsB,aAAd,GAA8BF,GAA9B;AACAV,yBAAKV,QAAL,CAAcuB,WAAd,GAA4BH,GAA5B;AACH;AACJ,aAPD,EArBoB,CA4BjB;AAEN;AACD;AA/BA,aAgCK;AACD,oBAAIX,UAAU,eAAd,CADC,CAC6B;AAC9BhB,mBAAGmB,MAAH,CAAUC,OAAV,CAAkBJ,OAAlB,EAA2BhB,GAAGqB,WAA9B,EAA2C,UAAUC,GAAV,EAAeK,GAAf,EAAoB;AAC3D,wBAAIL,GAAJ,EAAStB,GAAGwB,GAAH,CAAO,mBAAmBF,IAAIG,MAAvB,GAAgC,QAAvC,EAAT,KACK;AACDR,6BAAKV,QAAL,CAAcqB,YAAd,GAA6BD,GAA7B;AACAV,6BAAKV,QAAL,CAAcsB,aAAd,GAA8BF,GAA9B;AACAV,6BAAKV,QAAL,CAAcuB,WAAd,GAA4BH,GAA5B;AACH;AACJ,iBAPD;AAQA;AACA,qBAAK,IAAID,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuB,EAAEA,CAAzB,EAA4B;AACxB,yBAAKf,KAAL,CAAWe,CAAX,EAAcK,OAAd,GAAwB,KAAxB;AACH;AAEJ;AACJ;AACD;;AAzEK,CAAT","file":"subStarTemplateJS.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        stageId: 0,\n        startNum: 0,\n        stageBtn: cc.Button,\n        stageIdLab: cc.Label,\n        stars: [cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n    init(data) {\n        var stageId = data.stageId + 1;;\n        var urlPath;\n        var self = this;\n        var startNum = data.startNum;\n        //解锁了的\n        if (data.startNum >= 0) {\n            if (stageId < 10) {\n                this.stageIdLab.string = \"0\" + stageId;\n            } else {\n                this.stageIdLab.string = stageId;\n            }//lab传id\n            var urlPath = (\"star\");\n            cc.loader.loadRes(urlPath, cc.SpriteFrame, function (err, spriteFrame) {\n                if (err) cc.log(\"注意err:\" + err.length + 'errors');\n                else {\n                    for (let i = 0; i < startNum; i++) {\n                        self.stars[i].spriteFrame = spriteFrame;\n                    }//传星星图\n                }\n            });\n            if (data.startNum > 0) {\n\n                urlPath = 'btn_stagePlayed'\n            } else {\n                urlPath = 'btn_stagePlaying'\n            }\n            cc.loader.loadRes(urlPath, cc.SpriteFrame, function (err, res) {\n                if (err) cc.log('Completed with' + err.length + 'errors');\n                else {\n                    self.stageBtn.normalSprite = res;\n                    self.stageBtn.pressedSprite = res;\n                    self.stageBtn.hoverSprite = res;\n                }\n            });//传图\n\n        }\n        //未解锁的\n        else {\n            var urlPath = \"btn_stageLock\";//锁图片路径\n            cc.loader.loadRes(urlPath, cc.SpriteFrame, function (err, res) {\n                if (err) cc.log('Completed with' + err.length + 'errors');\n                else {\n                    self.stageBtn.normalSprite = res;\n                    self.stageBtn.pressedSprite = res;\n                    self.stageBtn.hoverSprite = res;\n                }\n            });\n            //隐藏星星\n            for (let i = 0; i < 3; ++i) {\n                this.stars[i].enabled = false;\n            }\n\n        }\n    }\n    // update (dt) {},\n});\n"]}